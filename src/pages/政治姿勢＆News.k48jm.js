// ============================================================
// Policy.js - æ”¿ç­–ãƒ»ãƒ“ã‚¸ãƒ§ãƒ³ãƒšãƒ¼ã‚¸
// ============================================================
// ã€è¨­ç½®å ´æ‰€ã€‘Wix ã‚¨ãƒ‡ã‚£ã‚¿ â†’ æ”¿ç­–ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ¼ãƒ‰ãƒ‘ãƒãƒ«
//
// ========================
// ã€ãƒšãƒ¼ã‚¸æ§‹æˆ & å¿…è¦ãªè¦ç´ IDã€‘
// ========================
//
// â–  ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼
//   - #policyHeroStrip: ã‚¹ãƒˆãƒªãƒƒãƒ—ï¼ˆèƒŒæ™¯: å…¬åœ’ã®é’ç©ºå†™çœŸï¼‰
//   - #policyPageTitle: ãƒ†ã‚­ã‚¹ãƒˆã€Œâ—‹â—‹å¸‚ã®æœªæ¥ãƒ“ã‚¸ãƒ§ãƒ³ã€
//   - #policyPageSubtitle: ãƒ†ã‚­ã‚¹ãƒˆã€Œã‚ãªãŸã®å£°ã‚’ã€ã¾ã¡ã®åŠ›ã«ã€‚ã€
//
// â–  ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ãƒ“ã‚¸ãƒ§ãƒ³æ¦‚è¦
//   - #visionSection: ã‚¹ãƒˆãƒªãƒƒãƒ—ï¼ˆç™½èƒŒæ™¯ï¼‰
//   - #visionImage: ä¸¡æ‰‹ã‚’åºƒã’ãŸå†™çœŸï¼ˆã‚«ã‚¸ãƒ¥ã‚¢ãƒ«æœï¼‰
//   - #visionTitle: ãƒ†ã‚­ã‚¹ãƒˆã€Œç§ãŒç›®æŒ‡ã™â—‹â—‹å¸‚ã€
//   - #visionText: ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆï¼ˆãƒ“ã‚¸ãƒ§ãƒ³æ¦‚è¦æ–‡ï¼‰
//
// â–  ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: é‡ç‚¹æ”¿ç­–
//   - #keyPolicySection: ã‚¹ãƒˆãƒªãƒƒãƒ—
//   - #keyPolicyTitle: ãƒ†ã‚­ã‚¹ãƒˆã€Œ5ã¤ã®é‡ç‚¹æ”¿ç­–ã€
//   - #policyDetailRepeater: ãƒªãƒ”ãƒ¼ã‚¿ãƒ¼ï¼ˆæ”¿ç­–è©³ç´°ã‚«ãƒ¼ãƒ‰ï¼‰
//     å„ã‚«ãƒ¼ãƒ‰å†…:
//       - #policyNumber: ãƒ†ã‚­ã‚¹ãƒˆï¼ˆç•ªå·ï¼‰
//       - #policyDetailTitle: ãƒ†ã‚­ã‚¹ãƒˆï¼ˆæ”¿ç­–ã‚¿ã‚¤ãƒˆãƒ«ï¼‰
//       - #policyDetailDesc: ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆï¼ˆæ”¿ç­–è©³ç´°ï¼‰
//       - #policyDetailIcon: ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã‚¢ã‚¤ã‚³ãƒ³ï¼‰
//
// â–  ã‚»ã‚¯ã‚·ãƒ§ãƒ³4: å¸‚æ°‘ã®å£°ã‚’è´ã
//   - #listenSection: ã‚¹ãƒˆãƒªãƒƒãƒ—ï¼ˆãƒ†ãƒ¼ãƒžã‚«ãƒ©ãƒ¼èƒŒæ™¯ï¼‰
//   - #listenTitle: ãƒ†ã‚­ã‚¹ãƒˆã€Œå¸‚æ°‘ã®å£°ã‚’è´ãã¾ã™ã€
//   - #listenText: ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆ
//   - #listenContactButton: ãƒœã‚¿ãƒ³ã€Œã”æ„è¦‹ã‚’ãŠèžã‹ã›ãã ã•ã„ã€
//
// ============================================================

import wixAnimations from 'wix-animations';
import wixLocation from 'wix-location';

$w.onReady(function () {
    // ãƒšãƒ¼ã‚¸å›ºæœ‰ã®åˆæœŸåŒ–
    initPolicyPage();
    initPolicyDetails();
    initListenSection();
});

// â”€â”€â”€ ãƒšãƒ¼ã‚¸åˆæœŸåŒ– â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function initPolicyPage() {
    // ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    if ($w('#policyPageTitle')) {
        const tl = wixAnimations.timeline();
        tl.add($w('#policyPageTitle'), {
            opacity: 1,
            y: 0,
            duration: 800,
            easing: 'easeOutQuad'
        });
        tl.play();
    }

    // ãƒ“ã‚¸ãƒ§ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    if ($w('#visionSection')) {
        $w('#visionSection').onViewportEnter(() => {
            const tl = wixAnimations.timeline();
            if ($w('#visionImage')) {
                tl.add($w('#visionImage'), {
                    opacity: 1,
                    x: 0,
                    duration: 700,
                    easing: 'easeOutQuad'
                });
            }
            if ($w('#visionText')) {
                tl.add($w('#visionText'), {
                    opacity: 1,
                    x: 0,
                    duration: 700,
                    easing: 'easeOutQuad'
                }, { offset: 200 });
            }
            tl.play();
        });
    }
}

// â”€â”€â”€ é‡ç‚¹æ”¿ç­–ã®è©³ç´° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function initPolicyDetails() {
    const policyDetails = [
        {
            number: '01',
            icon: 'ðŸ¥',
            title: 'ç¦ç¥‰ãƒ»åŒ»ç™‚ã®å……å®Ÿ',
            description: `é«˜é½¢è€…ãŒå®‰å¿ƒã—ã¦æš®ã‚‰ã›ã‚‹ä»‹è­·ç’°å¢ƒã®æ•´å‚™ã€
åœ°åŸŸåŒ…æ‹¬ã‚±ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã®å¼·åŒ–ã‚’é€²ã‚ã¾ã™ã€‚
ã‹ã‹ã‚Šã¤ã‘åŒ»åˆ¶åº¦ã®æŽ¨é€²ã¨å¤œé–“ãƒ»ä¼‘æ—¥è¨ºç™‚ä½“åˆ¶ã®å……å®Ÿã‚’å›³ã‚Šã¾ã™ã€‚
éšœãŒã„ã®ã‚ã‚‹æ–¹ã¸ã®æ”¯æ´ã‚’æ‹¡å……ã—ã€èª°ã‚‚ãŒç¤¾ä¼šå‚åŠ ã§ãã‚‹ã¾ã¡ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚`
        },
        {
            number: '02',
            icon: 'ðŸŒ³',
            title: 'ç’°å¢ƒãƒ»ã¾ã¡ã¥ãã‚Š',
            description: `ç·‘åœ°ã®ä¿å…¨ã¨éƒ½å¸‚è¾²æ¥­ã®æ”¯æ´ã‚’é€šã˜ã¦ã€
è‡ªç„¶ã¨å…±ç”Ÿã™ã‚‹ã¾ã¡ã¥ãã‚Šã‚’æŽ¨é€²ã—ã¾ã™ã€‚
å†ç”Ÿå¯èƒ½ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®æ™®åŠä¿ƒé€²ã¨çœã‚¨ãƒãƒ«ã‚®ãƒ¼å¯¾ç­–ã‚’å¼·åŒ–ã€‚
å®‰å…¨ã§å¿«é©ãªæ­©è¡Œè€…ãƒ»è‡ªè»¢è»Šç’°å¢ƒã®æ•´å‚™ã«å–ã‚Šçµ„ã¿ã¾ã™ã€‚`
        },
        {
            number: '03',
            icon: 'ðŸ‘¶',
            title: 'å­è‚²ã¦ãƒ»æ•™è‚²ã®å……å®Ÿ',
            description: `å¾…æ©Ÿå…ç«¥ã‚¼ãƒ­ã®ç¶­æŒã¨ä¿è‚²ã®è³ªã®å‘ä¸Šã‚’ç›®æŒ‡ã—ã¾ã™ã€‚
æ”¾èª²å¾Œã®å­ã©ã‚‚ã®å±…å ´æ‰€ã¥ãã‚Šã¨å­¦ç¿’æ”¯æ´ã®æ‹¡å……ã€‚
å­¦æ ¡æ•™è‚²ã§ã®ICTæ´»ç”¨ã¨å°‘äººæ•°å­¦ç´šã®æŽ¨é€²ã€‚
å­ã©ã‚‚ã®è²§å›°å¯¾ç­–ã¨å­¦ç¿’æ©Ÿä¼šã®å‡ç­‰åŒ–ã«å–ã‚Šçµ„ã¿ã¾ã™ã€‚`
        },
        {
            number: '04',
            icon: 'ðŸ’¼',
            title: 'åœ°åŸŸçµŒæ¸ˆã®æ´»æ€§åŒ–',
            description: `åœ°å…ƒå•†åº—è¡—ã®æ´»æ€§åŒ–æ”¯æ´ã¨æ–°è¦å‰µæ¥­æ”¯æ´ã‚’æŽ¨é€²ã—ã¾ã™ã€‚
åœ°ç”£åœ°æ¶ˆã®æŽ¨é€²ã¨è¾²å•†å·¥é€£æºã«ã‚ˆã‚‹æ–°ãŸãªä¾¡å€¤ã®å‰µå‡ºã€‚
è‹¥è€…ã‚„ã‚·ãƒ‹ã‚¢ã®å°±åŠ´æ”¯æ´ã¨å¤šæ§˜ãªåƒãæ–¹ã®å®Ÿç¾ã€‚
ãƒ‡ã‚¸ã‚¿ãƒ«æŠ€è¡“ã‚’æ´»ç”¨ã—ãŸè¡Œæ”¿ã‚µãƒ¼ãƒ“ã‚¹ã®åŠ¹çŽ‡åŒ–ã‚’å›³ã‚Šã¾ã™ã€‚`
        },
        {
            number: '05',
            icon: 'ðŸ¤',
            title: 'å¸‚æ°‘å‚åŠ ã¨é€æ˜Žãªå¸‚æ”¿',
            description: `å¸‚æ°‘ãŒæ”¿æ²»ã«å‚åŠ ã—ã‚„ã™ã„ä»•çµ„ã¿ã¥ãã‚Šã‚’é€²ã‚ã¾ã™ã€‚
è­°ä¼šã®è¦‹ãˆã‚‹åŒ–ã¨æƒ…å ±å…¬é–‹ã®å¾¹åº•ã€‚
å¸‚æ°‘ã¨ã®å¯¾è©±ã®å ´ã‚’å®šæœŸçš„ã«è¨­ã‘ã€å£°ã‚’å¸‚æ”¿ã«åæ˜ ã€‚
è‹¥ã„ä¸–ä»£ã®æ”¿æ²»å‚åŠ ã‚’ä¿ƒé€²ã™ã‚‹å–ã‚Šçµ„ã¿ã‚’è¡Œã„ã¾ã™ã€‚`
        }
    ];

    if ($w('#policyDetailRepeater')) {
        $w('#policyDetailRepeater').data = policyDetails.map((item, index) => ({
            _id: String(index + 1),
            ...item
        }));

        $w('#policyDetailRepeater').onItemReady(($item, itemData) => {
            $item('#policyNumber').text = itemData.number;
            $item('#policyDetailIcon').text = itemData.icon;
            $item('#policyDetailTitle').text = itemData.title;
            $item('#policyDetailDesc').text = itemData.description;
        });

        // ã‚«ãƒ¼ãƒ‰ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        $w('#policyDetailRepeater').onViewportEnter(() => {
            const tl = wixAnimations.timeline();
            tl.add($w('#policyDetailRepeater'), {
                opacity: 1,
                y: 0,
                duration: 800,
                easing: 'easeOutQuad'
            });
            tl.play();
        });
    }
}

// â”€â”€â”€ å¸‚æ°‘ã®å£°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function initListenSection() {
    if ($w('#listenContactButton')) {
        $w('#listenContactButton').onClick(() => {
            wixLocation.to('/contact');
        });
    }

    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    if ($w('#listenSection')) {
        $w('#listenSection').onViewportEnter(() => {
            const tl = wixAnimations.timeline();
            tl.add($w('#listenSection'), {
                opacity: 1,
                y: 0,
                duration: 600,
                easing: 'easeOutQuad'
            });
            tl.play();
        });
    }
}
